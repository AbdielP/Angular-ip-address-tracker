<nav class="nav">
    <h1 class="nav__title">IP Address Tracker</h1>
    <form autocomplete="off" #form="ngForm" class="nav__form">
        <input class="nav__form-input" type="text" name="ip" [ngModel]="form.ip" placeholder="Search for any IP address or domain" required 
            pattern="((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))">
        <button class="nav__form-button" type="button" (click)="search(form)">
            <img class="nav__form-img" src="../../../assets/img/icon-arrow.svg" alt=">">
        </button>
    </form>
    <small class="error" *ngIf="!form.valid && !form.pristine">Please insert a valid IPv4 or IPv6 address</small>

    <!-- {{form.valid}} -->
    <div class="spinner" *ngIf="spinner">
        <img class="spinner__img" src="../../../assets/img/spinner-solid.svg" alt="SPIN">
    </div>
    <section class="nav__info" *ngIf="ipInfo && !spinner">
        <div class="info__container">
            <p class="info__container-subtitle">IP Address</p>
            <h2 class="info__container-data">{{ipInfo.ip}}</h2>
        </div>
        <hr class="hr">
        <div class="info__container">
            <p class="info__container-subtitle">Location</p>
            <h2 class="info__container-data">{{ipInfo.region}}, {{ipInfo.city}}</h2>
        </div>
        <hr class="hr">
        <div class="info__container">
            <p class="info__container-subtitle">Timezone</p>
            <h2 class="info__container-data">UTC{{ipInfo.timezone}}</h2>
        </div>
        <hr class="hr">
        <div class="info__container">
            <p class="info__container-subtitle">ISP</p>
            <h2 class="info__container-data">{{ipInfo.isp}}</h2>
        </div>
    </section>
</nav>
